

var rawId = ReadByte(fileStream);
var id = (byte) ((rawId & 0xf8) >> 3);
var flags = (ParameterFlags) (rawId & 0x7);

0xf8 = 248 = 11111000

10 (1010) & 248 (11111000) = 8 (1000) >> 3 (11) = 1 (1)
8 (1000) & 248 (11111000) = 8 (1000) >> 3 (11) = 1 (1)
16 (10000) & 248 (11111000) = 16 (10000) >> 3 (11) = 2 (10)
18 (10010) & 248 (11111000) = 16 (10000) >> 3 (11) = 2 (10)
26 (11010) & 248 (11111000) = 24 (11000) >> 3 (11) = 3 (11)
34 (100010) & 248 (11111000) = 32 (100000) >> 3 (11) = 4 (100)
42 (101010) & 248 (11111000) = 40 (101000) >> 3 (11) = 5 (101)
50 (110010) & 248 (11111000) = 48 (110000) >> 3 (11) = 6 (110)
58 (111010) & 248 (11111000) = 56 (111000) >> 3 (11) = 7 (111)
66 (1000010) & 248 (11111000) = 64 (1000000) >> 3 (11) = 8 (1000)
74 (1001010) & 248 (11111000) = 72 (1001000) >> 3 (11) = 9 (1001)
90 (1011010) & 248 (11111000) = 88 (1011000) >> 3 (11) = 11 (1011)
146 (10010010) & 248 (11111000) = 144 (10010000) >> 3 (11) = 18 (10010)
5 (101) & 248 (11111000) = 0 (0) >> 3 (11) = 0 (0)

10 (1010) & 504 (111111000) = 8 (1000) >> 3 (11) = 1 (1)
8 (1000) & 504 (111111000) = 8 (1000) >> 3 (11) = 1 (1)
16 (10000) & 504 (111111000) = 16 (10000) >> 3 (11) = 2 (10)
18 (10010) & 504 (111111000) = 16 (10000) >> 3 (11) = 2 (10)
26 (11010) & 504 (111111000) = 24 (11000) >> 3 (11) = 3 (11)
34 (100010) & 504 (111111000) = 32 (100000) >> 3 (11) = 4 (100)
42 (101010) & 504 (111111000) = 40 (101000) >> 3 (11) = 5 (101)
50 (110010) & 504 (111111000) = 48 (110000) >> 3 (11) = 6 (110)
58 (111010) & 504 (111111000) = 56 (111000) >> 3 (11) = 7 (111)
66 (1000010) & 504 (111111000) = 64 (1000000) >> 3 (11) = 8 (1000)
74 (1001010) & 504 (111111000) = 72 (1001000) >> 3 (11) = 9 (1001)
90 (1011010) & 504 (111111000) = 88 (1011000) >> 3 (11) = 11 (1011)
146 (10010010) & 504 (111111000) = 144 (10010000) >> 3 (11) = 18 (10010)
5 (101) & 504 (111111000) = 0 (0) >> 3 (11) = 0 (0)